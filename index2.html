<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>Philippe Boivin</title>
    <meta name="description" content="Terrain de jeux virtuel de Philippe Boivin">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:image" content="https://www.philboivin.com/img/philboivin-og.jpg">
    <link rel="icon" type="image/png" href="/img/icon.png">
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <script src="/js/jquery/3.5.1/jquery.min.js"></script>
  </head>

  <body>
    <header>
      <div id="header-content">
        <div class="logo">Philippe Boivin</div>

        <nav id="main-menu" aria-label="Main menu">
          <div id="menu">
            <ul>
              <li><a href="/">Accueil</a></li>
              <li><a href="/fr/projets.html">Projets</a></li>
              <li><a href="/fr/contact.html">Contact</a></li>
            </ul>
          </div>
        </nav>
        <hr>
      </div>
    </header>

    <main>
      <div id="content">
        
        <div class="row">
          <div class="col">
              <h1>À propos</h1>
              <p>
                Animé par une passion pour le web, la technologie et les machines électroniques, 
                j'oeuvre à rendre les choses plus simples, efficaces et accessibles.
              </p>
          </div>
        </div>

        
        
        <div class="row">
            <div class="col">
              <h1>Projets</h1>
               <ul>
                  <li><a href="/mf">Mystic Flight</a> : Jeu rétro en AssemblyScript et compilé en WebAssembly via WASM-4.</li>
                  <li><a href="https://github.com/philboiv1n">Github</a> : Autres projets en programmation logiciels.</li>
                  <li><a href="/fr/photos.html">Photos</a> : Archives.</li>
               </ul>
            </div>
        </div>
        

        <div class="row">
            <div class="col">
              <h1>Contactez-moi</h1>
           
                <p>Utilisez le formulaire ou via les réseaux sociaux.</p>
                <form id="contact-form" method="post">
                  <label class="form-control-bee" for="name"></label>
                  <input
                    class="form-control-bee"
                    autocomplete="off"
                    type="text"
                    id="name"
                    name="name"
                    placeholder="Your name here">
                  <label class="form-control-bee" for="email"></label>
                  <input
                    class="form-control-bee"
                    autocomplete="off"
                    type="email"
                    id="email"
                    name="email"
                    placeholder="Your e-mail here">
  
                  <input
                    type="text"
                    id="name-input"
                    placeholder="Votre nom"
                    class="form-control"
                    maxlength="64"
                    required><br>
  
                  <input
                    type="email"
                    id="email-input"
                    placeholder="Votre adresse courriel"
                    class="form-control"
                    maxlength="320"
                    required><br>
  
                  <textarea
                    id="message-input"
                    rows="5"
                    placeholder="Votre message"
                    class="form-control"
                    maxlength="1024"
                    required></textarea>
  
                  <br>
                  <button
                    id="submit-button"
                    type="button"
                    onClick="submitToAPI(event)"
                    class="form-submit">Envoyer</button>
                </form>
                <div id="messages" class="error"></div>
              </div>
          </div> 



      </div>
    </main>


    <footer>
      <div id="footer-content">
        <hr>
        <div class="copy">&copy; Philippe Boivin.</div>
      </div>
    </footer>


     <!-- Form validation and post -->
     <script>
        function submitToAPI(e) {
          e.preventDefault();
  
          var x = "<span class='redCircle'>x</span>&nbsp;&nbsp;";
          var nameRegex = /[A-Za-z]{1}[A-Za-z]/;
  
          if ($("#email").val() || $("#name").val()) {
            return;
          }
  
          if (!nameRegex.test($("#name-input").val())) {
            $("#messages").html(x + "Le nom doit contenir au moins 2 lettres");
            return;
          }
  
          var emailRegex =
            /^((([!#$%&'*+\-/=?^_`{|}~\w])|([!#$%&'*+\-/=?^_`{|}~\w][!#$%&'*+\-/=?^_`{|}~\.\w]{0,}[!#$%&'*+\-/=?^_`{|}~\w]))[@]\w+([-.]\w+)*\.\w+([-.]\w+)*)$/;
  
          if (!emailRegex.test($("#email-input").val())) {
            $("#messages").html(
              x + "Veuillez entrer une adresse courriel valide"
            );
            return;
          }
  
          var msgRegex = /[A-Za-z]{3}[A-Za-z]/;
  
          if (!msgRegex.test($("#message-input").val())) {
            $("#messages").html(x + "Veuillez entrer un message");
            return;
          }
  
         var finalMsg = $("#message-input").val();
  
          var data = {
            name: $("#name-input").val(),
            email: $("#email-input").val(),
            message: finalMsg,
          };
  
          $.ajax({
            type: "POST",
            url: "https://039fqid0i9.execute-api.us-east-2.amazonaws.com/Prod",
            dataType: "json",
            crossDomain: "true",
            contentType: "application/json",
            data: JSON.stringify(data),
  
            success: function () {
              alert("Message envoyé.");
              document.getElementById("contact-form").reset();
              location.reload();
            },
  
            error: function () {
              $("#submit-button").attr("disabled", "disabled");
              $("#submit-button").addClass("form-submit-disabled"); // ADD class form-submit-disabled
              $("#messages").html(
                x +
                  "Désolé, nous éprouvons des difficultés techniques, veuillez essayer plus tard."
              );
            },
          });
        }
      </script>


  </body>
</html>
